#N canvas 373 183 808 432 10;
#N canvas 147 22 795 617 fft-analysis 0;
#X obj 94 511 *~;
#X obj 55 511 *~;
#X obj 413 356 *~;
#X obj 372 356 *~;
#X obj 372 379 +~;
#X obj 54 183 *~;
#X obj 54 158 inlet~;
#X obj 54 206 rfft~;
#X obj 54 560 *~;
#X obj 141 245 *~;
#X obj 372 333 rfft~;
#X obj 54 535 rifft~;
#X obj 54 583 outlet~;
#X obj 107 245 *~;
#X obj 107 268 +~;
#X text 458 408 modulus;
#X obj 107 457 *~;
#X obj 600 13 block~ 1024 4;
#X obj 107 435 clip~;
#X obj 107 294 +~ 1e-20;
#X obj 108 480 *~ 0.00065;
#X obj 373 307 *~;
#X obj 373 282 inlet~;
#X obj 107 321 q8_rsqrt~;
#X obj 372 402 q8_sqrt~;
#X text 458 425 of control;
#X text 456 442 amplitude;
#X text 196 248 reciprocal;
#X text 199 267 modulus of;
#X text 195 287 filter input;
#X text 196 306 amplitude;
#X text 115 159 filter input;
#X text 438 282 control source;
#X text 434 332 Fourier transform;
#X text 28 17 Internal workings of the timbre stamping algorithm. First
the "filter input" is treated as in the compressor patch \, multiplying
each channel amplitude by one over its modulus (but limited by the
"squelch" parameter.) It is then multiplied by the modulus of the channel
amplitude for the control source (which is Fourier analyzed in parallel
with the filter input.);
#X text 193 450 multiply the two amplitude;
#X text 191 467 factors (for compression;
#X text 192 482 and to apply new timbre);
#X obj 148 346 r \$0-squelch;
#X obj 170 388 *;
#X obj 170 366 t a a;
#X obj 170 409 * 0.01;
#N canvas 0 22 450 300 (subpatch) 0;
#X array \$0-hann 256 float 1;
#A 0 0 0.000150591 0.000602275 0.00135478 0.00240764 0.00376022 0.00541174
0.00736117 0.00960734 0.0121489 0.0149843 0.0181119 0.0215298 0.0252359
0.0292279 0.0335035 0.0380601 0.042895 0.0480052 0.0533877 0.0590392
0.0649563 0.0711355 0.077573 0.084265 0.0912073 0.0983959 0.105826
0.113494 0.121395 0.129524 0.137876 0.146446 0.155229 0.16422 0.173413
0.182803 0.192384 0.20215 0.212095 0.222214 0.2325 0.242948 0.25355
0.264301 0.275194 0.286222 0.297379 0.308658 0.320052 0.331555 0.343159
0.354857 0.366643 0.378509 0.390449 0.402454 0.414519 0.426634 0.438794
0.450991 0.463218 0.475466 0.487729 0.5 0.512271 0.524534 0.536782
0.549009 0.561205 0.573365 0.585481 0.597545 0.609551 0.62149 0.633357
0.645143 0.656841 0.668445 0.679948 0.691342 0.702621 0.713778 0.724806
0.735699 0.74645 0.757052 0.767499 0.777786 0.787905 0.79785 0.807616
0.817197 0.826587 0.83578 0.844771 0.853554 0.862124 0.870476 0.878605
0.886506 0.894174 0.901605 0.908793 0.915736 0.922428 0.928865 0.935044
0.940961 0.946613 0.951995 0.957106 0.96194 0.966497 0.970773 0.974765
0.978471 0.981889 0.985016 0.987852 0.990393 0.992639 0.994589 0.99624
0.997593 0.998645 0.999398 0.999849 1 0.999849 0.999398 0.998645 0.997592
0.996239 0.994588 0.992638 0.990392 0.987851 0.985015 0.981887 0.978469
0.974763 0.970771 0.966495 0.961939 0.957104 0.951993 0.946611 0.940959
0.935042 0.928863 0.922425 0.915733 0.908791 0.901602 0.894171 0.886503
0.878602 0.870473 0.862121 0.853551 0.844768 0.835777 0.826584 0.817194
0.807613 0.797847 0.787901 0.777782 0.767496 0.757048 0.746446 0.735695
0.724802 0.713774 0.702617 0.691338 0.679944 0.668441 0.656837 0.645139
0.633353 0.621486 0.609547 0.597541 0.585477 0.573361 0.561201 0.549004
0.536778 0.52453 0.512266 0.499996 0.487725 0.475462 0.463213 0.450987
0.43879 0.42663 0.414515 0.40245 0.390445 0.378505 0.366639 0.354853
0.343155 0.331551 0.320048 0.308654 0.297375 0.286218 0.27519 0.264297
0.253547 0.242944 0.232497 0.222211 0.212092 0.202146 0.19238 0.182799
0.17341 0.164217 0.155226 0.146443 0.137873 0.129521 0.121392 0.113491
0.105823 0.0983929 0.0912044 0.0842621 0.0775702 0.0711328 0.0649537
0.0590367 0.0533853 0.0480029 0.0428928 0.038058 0.0335015 0.029226
0.025234 0.0215281 0.0181104 0.0149829 0.0121476 0.00960615 0.0073601
0.00541082 0.00375944 0.00240701 0.00135431 0.000601947 0.000150442
;
#X coords 0 1 256 0 40 30 1;
#X restore 354 537 graph;
#X obj 284 177 tabread~ \$0-hann;
#X obj 284 100 phasor~ 1;
#X obj 284 155 *~ 1024;
#X obj 330 130 r \$0-window-size;
#X connect 0 0 11 1;
#X connect 1 0 11 0;
#X connect 2 0 4 1;
#X connect 3 0 4 0;
#X connect 4 0 24 0;
#X connect 5 0 7 0;
#X connect 6 0 5 0;
#X connect 7 0 13 0;
#X connect 7 0 13 1;
#X connect 7 0 1 0;
#X connect 7 1 9 0;
#X connect 7 1 9 1;
#X connect 7 1 0 0;
#X connect 8 0 12 0;
#X connect 9 0 14 1;
#X connect 10 0 3 0;
#X connect 10 0 3 1;
#X connect 10 1 2 0;
#X connect 10 1 2 1;
#X connect 11 0 8 0;
#X connect 13 0 14 0;
#X connect 14 0 19 0;
#X connect 16 0 20 0;
#X connect 18 0 16 0;
#X connect 19 0 23 0;
#X connect 20 0 0 1;
#X connect 20 0 1 1;
#X connect 21 0 10 0;
#X connect 22 0 21 0;
#X connect 23 0 18 0;
#X connect 24 0 16 1;
#X connect 38 0 40 0;
#X connect 39 0 41 0;
#X connect 40 0 39 0;
#X connect 40 1 39 1;
#X connect 41 0 18 2;
#X connect 43 0 5 1;
#X connect 43 0 21 1;
#X connect 43 0 8 1;
#X connect 44 0 45 0;
#X connect 45 0 43 0;
#X connect 46 0 45 1;
#X restore 110 211 pd fft-analysis;
#X obj 423 130 u_dispatch \$0 squelch;
#X obj 423 103 inlet;
#X obj 479 103 u_loader e_vocoder-\$1 \$0;
#X obj 545 257 loadbang;
#X obj 545 279 f \$0;
#X msg 545 300 \; pd dsp 1 \; \$1-window-size 1024 \; \$1-squelch 30
\;;
#X obj 111 186 inlet~;
#X obj 212 186 inlet~;
#X obj 109 238 outlet~;
#X text 114 75 Pd vocoder/timbre stamp;
#N canvas 228 198 627 317 LICENSE-BSD 0;
#X text 121 56 This software is copyrighted by Miller Puckette \, Reality
Jockey Ltd. and others. The terms (the "Standard Improved BSD License")
apply to all files associated with the software unless explicitly disclaimed
in individual files.;
#X text 123 148 See the file LICENSE.txt for the full license text.
;
#X restore 563 50 pd LICENSE-BSD;
#X connect 0 0 9 0;
#X connect 2 0 1 0;
#X connect 4 0 5 0;
#X connect 5 0 6 0;
#X connect 7 0 0 0;
#X connect 8 0 0 1;
